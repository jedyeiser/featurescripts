# Tools Library (tools/)

Extracted and refactored BSpline utilities from `footprint/` and `gordonSurface/`. Single source of truth for reusable algorithms.

## Status: 67% Complete

- **Phases 1-3**: Complete (foundation, core math, BSpline data)
- **Phase 4**: Partial (knot ops done, compatibility/continuity pending)
- **Phase 5**: Not started (surface operations)

## Available Modules

| File | Purpose |
|------|---------|
| `assertions.fs` | Validation utilities |
| `math_utils.fs` | sign, clamp, lerp, remap |
| `debug.fs` | Debug visualization (points, polylines) |
| `printing.fs` | Formatted BSpline console output |
| `numerical_integration.fs` | Trapezoidal integration, moving average |
| `solvers.fs` | Hybrid root finding (secant + bisection) |
| `transition_functions.fs` | Blending functions (linear, sinusoidal, logistic) |
| `bspline_data.fs` | BSpline analysis (bounds, ranges, knots, endpoints) |
| `bspline_knots.fs` | Knot insertion (P&T algorithms A2.1, A5.1, A5.4) |
| `frenet.fs` | Frenet frame computation and transforms |

## Not Yet Implemented

- `bspline_compatibility.fs` - Degree elevation, knot unification
- `bspline_continuity.fs` - G1/G2 continuity enforcement
- `bspline_special.fs` - Joining, subcurves, scaled curves
- `bspline_surface_data.fs` - Surface row/column extraction
- `bspline_surface_ops.fs` - Surface transpose, skinning

## Usage

```featurescript
import(path : "tools/bspline_data.fs", version : "");
import(path : "tools/bspline_knots.fs", version : "");

// BSpline analysis
var range = getBSplineParamRange(myCurve);
var bounds = getBSplineBounds(myCurve);

// Knot insertion (Piegl & Tiller)
var refined = insertKnot(context, myCurve, 0.5);
```

## Design Principles

- Pure functions (context-free where possible)
- Unit safety (ValueWithUnits throughout)
- Algorithm references (P&T page numbers)
- Source traceability (original file documented)

See `README.md` for complete documentation and dependency graph.
